%div{:style => "width: 100%;"}
  #map{:style => "width: 100%; height: 100%;height:100vh;"}

:coffeescript
  mapStyle = 
    [
      {
        'featureType': 'administrative.country'
        'elementType': 'geometry.stroke'
        'stylers': [
          { 'lightness': '40' }
          { 'visibility': 'on' }
        ]
      }
      {
        'featureType': 'administrative.country'
        'elementType': 'labels'
        'stylers': [
          { 'visibility': 'simplified' }
          { 'lightness': '20' }
        ]
      }
      {
        'featureType': 'administrative.province'
        'elementType': 'geometry.stroke'
        'stylers': [ { 'visibility': 'off' } ]
      }
      {
        'featureType': 'administrative.province'
        'elementType': 'labels'
        'stylers': [
          { 'visibility': 'simplified' }
          { 'lightness': '10' }
        ]
      }
      {
        'featureType': 'administrative.locality'
        'elementType': 'geometry.stroke'
        'stylers': [ { 'visibility': 'on' } ]
      }
      {
        'featureType': 'administrative.locality'
        'elementType': 'labels'
        'stylers': [
          { 'visibility': 'simplified' }
          { 'lightness': '25' }
        ]
      }
      {
        'featureType': 'landscape'
        'elementType': 'all'
        'stylers': [
          { 'hue': '#ffbb00' }
          { 'saturation': 43.400000000000006 }
          { 'lightness': 37.599999999999994 }
          { 'gamma': 1 }
        ]
      }
      {
        'featureType': 'poi'
        'elementType': 'all'
        'stylers': [
          { 'hue': '#00FF6A' }
          { 'saturation': -1.0989010989011234 }
          { 'lightness': 11.200000000000017 }
          { 'gamma': 1 }
        ]
      }
      {
        'featureType': 'road'
        'elementType': 'geometry'
        'stylers': [
          { 'visibility': 'on' }
          { 'lightness': '30' }
        ]
      }
      {
        'featureType': 'road.highway'
        'elementType': 'all'
        'stylers': [
          { 'hue': '#FFC200' }
          { 'saturation': -61.8 }
          { 'lightness': 45.599999999999994 }
          { 'gamma': 1 }
        ]
      }
      {
        'featureType': 'road.arterial'
        'elementType': 'all'
        'stylers': [
          { 'hue': '#FF0300' }
          { 'saturation': -100 }
          { 'lightness': 51.19999999999999 }
          { 'gamma': 1 }
        ]
      }
      {
        'featureType': 'road.local'
        'elementType': 'all'
        'stylers': [
          { 'hue': '#FF0300' }
          { 'saturation': -100 }
          { 'lightness': 52 }
          { 'gamma': 1 }
        ]
      }
      {
        'featureType': 'water'
        'elementType': 'all'
        'stylers': [
          { 'hue': '#00ffda' }
          { 'saturation': '-50' }
          { 'lightness': '25' }
          { 'gamma': 1 }
        ]
      }
      {
        'featureType': 'water'
        'elementType': 'labels'
        'stylers': [
          { 'visibility': 'off' }
          { 'lightness': '30' }
        ]
      }
    ]
  handler = Gmaps.build('Google')
  handler.buildMap {
    provider: {styles:mapStyle}
    internal: id: 'map'
    markers: { clusterer: undefined  }
  }, ->
    markers = handler.addMarkers(#{raw @hash.to_json})
    handler.bounds.extendWith markers
    handler.fitMapToBounds()